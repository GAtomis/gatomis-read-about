<!--
 * @Description: love Artemis
 * @Author: Gavin
 * @Date: 2022-05-30 14:28:52
 * @LastEditTime: 2022-12-19 16:02:13
 * @LastEditors: GAtomis 850680822@qq.com
-->
# Chapter-II 框架设计核心要素

### Tree-shaking（P16）
#### Topic
1. 开发体验-错误提示
2. 建立DEV模式和prod模式的区别
3. ENV的统一规划
4. Tree-shaking如何应对副作用


#### 开发体验-错误提示
在我们vue的开发模式中我们可以看到很多warn提示，这些提示可以让我们快速定位问题，一个良好的框架需要给用户一个很好的开发体验，所以对于
错误提示的是设计显的尤为重要
#### 建立ENV模式，区分生产以及开发环境，控制代码体积
在我们的日常代码中经常会使用ENV常量来控制的代码,例如下面代码
```
if(__DEV__ &&num){
    //执行
    console.warn("执行内容");
}
```
以上__DEV__为常量当值为true的时候,这个提示报错才会触发，以此在开发环境给用户很好的提示,同时服务于生产和运行环境时框架大小就尤为重要,
当在运行环境中时__DEV__被视为false,也意味着上面的if代码块不会被执行,我们称这个代码块为dead code，它在最终的打包过程不会被框架打包,从而大大优化了打包后运行环境代码的体积。
### Tree-Shaking的支持
Tree-Shaking书上原话是-指的就是消除那些永远不会被执行的代码。也就是上面提到的dead code消除的最佳实践。Rollup，和webpack都支持这种模式,具体实例可以查看[demo]()

### 从框架输出产物（P18）
导出文件格式
1. iife模式通过立即执行函数去声明全局变量(工程化工具需要配置)
2. esm模式现代浏览器模块模式(同上)
3. 工程化工具读取package.json核心文件 module大于min指向,一般是给webpack或rollup读取资源使用
 